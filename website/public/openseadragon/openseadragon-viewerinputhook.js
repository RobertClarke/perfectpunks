(function(OSD,$,undefined){if(!OSD.version||OSD.version.major<1){throw new Error('OpenSeadragonViewerInputHook requires OpenSeadragon version 1.0.0+');}
OSD.Viewer.prototype.addViewerInputHook=function(options){options=options||{};options.viewer=this;return new $.ViewerInputHook(options);};$.ViewerInputHook=function(options){var curHook,curTracker;options=options||{};options.hooks=options.hooks||[];this.viewerTrackers={};if(options.viewer){this.viewerTrackers.viewer=options.viewer.innerTracker;this.viewerTrackers.viewer_outer=options.viewer.outerTracker;}
for(curHook=0;curHook<options.hooks.length;curHook++){if(typeof options.hooks[curHook].tracker==='string'){if(!options.viewer){throw new Error('A viewer must be specified.');}
curTracker=this.viewerTrackers[options.hooks[curHook].tracker];if(curTracker===undefined){throw new Error('Unknown tracker specified: '+options.hooks[curHook].tracker);}}
else{curTracker=options.hooks[curHook].tracker;}
(function(_this,tracker,handler,hookHandler){var origHandler=tracker[handler];tracker[handler]=function(event){return _this.callHandlers(hookHandler,origHandler,event);};}(this,curTracker,options.hooks[curHook].handler,options.hooks[curHook].hookHandler));}};$.ViewerInputHook.version={versionStr:'1.1.0',major:1,minor:1,revision:0};$.ViewerInputHook.prototype.callHandlers=function(hookHandler,origHandler,event){var ret=hookHandler(event);if(origHandler&&!event.stopHandlers){ret=origHandler(event);}
return event.stopBubbling?false:ret;};}(OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{}));